<html><head><title>Exercícios</title><meta http-equiv="refresh" content="0; URL=https://livro.curso-r.com"><link rel="canonical" href="https://livro.curso-r.com"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content=""><meta name="author" content="julio.trecenti@gmail.com,curso-r,Curso,R"><link rel="shortcut icon" href="/assets/img/curso_r2.jpg"><link rel="alternate" type="application/rss+xml" href=""><link href="libraries/frameworks/purus/css/bootstrap.min.css" rel="stylesheet"><link href="libraries/frameworks/purus/css/bootstrap-responsive.min.css" rel="stylesheet"><link href="libraries/frameworks/purus/css/main.css" rel="stylesheet"><link href="libraries/highlighters/prettify/css/twitter-bootstrap.css" rel="stylesheet"><!-- IE6-8 support of HTML5 elements --><!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]--><link href="http://fonts.googleapis.com/css?family=Raleway:400,600,200,800" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css"><link href="http://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet" type="text/css"><script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script><script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  
    ga('create', 'UA-58167912-1', 'auto');
    ga('send', 'pageview');
  
  </script><style>
	  #sidebar .sidebar-nav .info h3 a:hover, a:hover { color: #01A9DB; }
	  #sidebar .sidebar-nav #avatar img, #sidebar .sidebar-nav ul#links li.active a { border-color: #01A9DB; }
	  #sidebar .sidebar-nav ul#links li a:hover { background: #01A9DB; }
    p {text-align: justify;}
  </style><link rel="stylesheet" href="assets/css/custom.css"><link rel="stylesheet" href="assets/css/ribbons.css"></head><body>
	<div class="container-fluid">
		<div class="row-fluid">
			<div id="sidebar" class="span2">
			  <div class="sidebar-nav sidebar-nav-fixed">
			    <a href="https://github.com/ramnathv/poirot">
      <img style="position: absolute; top: 0; left: 100px; border: 0; height: 100px; z-index: 1;" alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
	  <div class="info">
				    <p id="avatar"><a href="#"><img alt="Title" src="http://curso-r.github.io/assets/img/curso_r2.jpg%20"></a></p>
				    <h3><a href="/">Curso R </a></h3>
					  <p class="description">Do casual ao avançado</p>
					</div>
					<ul id="links"><li><a href="http://curso-r.github.io/index.html">Home</a></li>
        <li><a href="http://curso-r.github.io/about.html">Sobre</a></li>
        <li><a href="http://curso-r.github.io/links.html">Links Úteis</a></li>
        <li><a href="http://curso-r.github.io/exercicios.html">Exercícios</a></li>
      
        <li><a href="http://github.com/curso-r" id="Github-link">Github</a></li>
                      
			    </ul></div>
			</div>
						<div id="content" class="span10">
				<div id="post-wrapper">
          <ol id="posts"><li class="post">
              <h3>
                <a href="#">Exercícios</a>
              </h3>
              <span></span><br><a class="label label-success" href="exercicios.Rmd">Source</a>
              
<p><a href="http://curso-r.github.io/exercicios_com_resolucao.html" target="_blank">Exercícios com resolução</a></p>

<h2>Aula 01</h2>

<h3>R como calculadora</h3>

<ol><li><p>Calcule o número de ouro no R (\(\frac{1 + \sqrt{5}}{2}\)).</p></li>
<li><p>O que dá divisão de 1 por 0? E -1 por 0? </p></li>
<li><p>Quais as diferenças entre <code>NaN</code>, <code>NULL</code>, <code>NA</code> e <code>Inf</code>? </p></li>
</ol><p>4.a) Tente mentalmente calcular o que dá a conta <code>5 + 3 * 10 %/% 3 == 15</code> no R, sem rodar.</p>

<p>4.b) Adicionando apenas parênteses, faça a expressão acima retornar o resultado contrário. </p>

<h3>Flow Controls</h3>

<p>1.a) O que acontece se eu rodar</p>

<pre><code class="r">x &lt;- 4
if(x = 4) {
  'isso aqui apareceu'
}
x


require(abjutils)
data(pnud_muni, package='abjutils')
require(dplyr)

dados2010 &lt;- pnud_muni[ pnud_muni$ano==2010,  c('uf', 'ufn')]
dados2010$uf2 &lt;- paste(dados2010$uf, dados2010$ufn)
unique(dados2010$uf2)
</code></pre>

<p>Você notou alguma coisa estranha? Como o R se comporta nesse caso?</p>

<p>1.b) Como você modificaria esse código para não dar erro e aparecer a frase 'isso aqui apareceu'?
Obs: Existem duas formas de modificar o código que farão ele funcionar.</p>

<ol><li>Escreva a frase (em uma linha)</li>
</ol><blockquote>
<p>1 elefante(s) incomoda(m) muita gente<br>
2 elefante(s) incomoda(m) incomoda(m) muito mais<br>
3 elefante(s) incomoda(m) muita gente<br>
4 elefante(s) incomoda(m) incomoda(m) incomoda(m) incomoda(m) muito mais  </p>
</blockquote>

<p>usando <code>for</code> ou <code>while</code>.</p>

<h3>Funções</h3>

<ol><li><p>Crie uma funçao que recebe um vetor de numeros e devolve a variancia.</p></li>
<li><p>Calcule a variancia de <code>x &lt;- 1:100</code> utilizando a sua funcao criada no item 1 e utilizando a funcao <code>var()</code> do R. Compare seus resultados. Eles coincidem? Por que?</p></li>
<li><p>Altere sua funcao para que agora ela aceite que o usuario escolha entre qual tipo de variancia ela quer calcular. Certifique-se que ela devolva </p></li>
<li><p>Construa uma funcao que recebe dois vetores numericos de mesmo tamanho, <code>v1</code> e <code>v2</code>, e retorne a media ponderada de <code>v1</code> por <code>v2</code>. Calcule a média ponderada do vetor <code>v1 &lt;- c(11, 9, 8, 7, 11, 6, 7, 9)</code> utilizando como pesos o vetor <code>v2 &lt;- c(1, 2, 1, 2, 1, 2, 1, 2)</code>. BONUS: certifique que o usuario tenha passado vetores de tamanhos iguais e ambos numericos. Retorne <code>NULL</code> caso uma dessas condicoes falhe.  </p></li>
<li><p>Crie uma versao da funcao <code>paste()</code> que una palavras pulando linhas (<code>\\n</code>)</p></li>
<li><p>Crie uma função que recebe um vetor de characters e um vetor numérico de mesmo comprimento e imprima um texto com os nomes dessas variáveis, um símbolo de atribuição (<code>&lt;-</code>), e os números, separando cada expressão pulando linhas. Por exemplo:</p></li>
</ol><pre><code class="r">x &lt;- letters[1:10]
y &lt;- 10:1

imprime_coisas_legais(x, y)
</code></pre>

<pre><code class="r">a &lt;- 10
b &lt;- 9
c &lt;- 8
d &lt;- 7
e &lt;- 6
f &lt;- 5
g &lt;- 4
h &lt;- 3
i &lt;- 2
j &lt;- 1
</code></pre>

<h2>Aula 02</h2>

<h3>Estruturas de dados</h3>

<p><strong>1</strong>. O senhor Adalberto é dono de uma loja e, utilizando o R, ele quer criar um cadastro de seus clientes. Para isso, ele está armazenando as informações em uma matriz da seguinte maneira:</p>

<pre><code class="r">cadastro &lt;- matrix(c(NA, NA, NA, NA), nrow = 100, ncol = 4, 
                   dimnames = list(NULL, c("Nome", "Idade", "Cidade", "Telefone")))

cadastro[1,] &lt;- c("Maria das Dores", 56, 3025-111, "São Paulo")
cadastro[2,] &lt;- c("José Aníbal", 40, 3333-012, "Santos")
cadastro[3,] &lt;- c("Pedro Silva", 23, 3091-777, "São Paulo")
# ...
</code></pre>

<p>a) O que faz o argumento <code>dimnames =</code>? O que significa o primeiro argumento da lista ser <code>NULL</code>?</p>

<p>b) O que vai acontecer se o senhor Adalberto tentar tirar a média da idade dos seus clientes fazendo <code>mean(cadastro[,2])</code>? Como ele poderia calcular essa média sem mudar a estrutura do objeto <code>cadastro</code>?</p>

<p>c) No lugar de <code>matrix</code>, qual seria a melhor estrutura para se utilizar neste caso? </p>

<p><strong>2</strong>. Por que <code>0.1 == 0.3/3</code> retorna <code>FALSE</code>? </p>

<h3>Subsetting</h3>

<p><strong>1</strong>. Considere o <code>data.frame</code> <em>diamonds</em> do R:</p>

<p>a) Como você faria para permutar aleatoriamente as colunas?</p>

<p>b) É possível permutar linhas e colunas simultaneamente em um passo? </p>

<p>c) Como ordenar as colunas do banco de dados em ordem alfabética?</p>

<p>d) Crie uma nova variável no banco de dados que seja 1 se o preço (<code>price</code>) for menor 300 e 0 caso contrário.</p>

<p><strong>2</strong>. Considere o vetor abaixo:</p>

<pre><code class="r">x1 &lt;- 1:8
</code></pre>

<p>a) Por que a expressao <code>x1 == c(2,3)</code> não retorna as posições de <code>x1</code> que são iguais a 2 ou 3? </p>

<p>b) O que faz o operador <code>%in%</code>?</p>

<h3>Leitura de dados</h3>

<ol><li>Vamos supor que o seu diretório de trabalho seja <code>"Desktop/pasta1/pasta2"</code> e que dentro da <em>pasta2</em> você tenha uma <em>pasta3</em>. Sem mudar o diretório de trabalho, escreva um código, utilizando a função <code>read.table()</code>, para ler um arquivo que esteja</li>
</ol><p>a) dentro da <em>pasta3</em>.
b) dentro da <em>pasta1</em>.</p>

<ol><li><p>É possível ler um arquivo em que o separador de valores (<code>sep</code>) é igual ao separador de casas deciamais (<code>dec</code>)?</p></li>
<li><p>Qual a diferença entre as funções <code>read.csv()</code> e <code>read.csv2()</code>?</p></li>
</ol><h3>O operador <em>pipe</em></h3>

<ol><li>Reescreva a expressão abaixo utilizando o operador <code>%&gt;%</code>.</li>
</ol><pre><code class="r">x &lt;- 0.1

library(ggplot2)

qplot(x=sample(sqrt((log(seq(1, 10, x)) + 2)), 40, replace = T), geom="histogram")
</code></pre>

<pre><code>## stat_bin: binwidth defaulted to range/30. Use 'binwidth = x' to adjust this.
</code></pre>

<pre><code>## Warning: position_stack requires constant width: output may be incorrect
</code></pre>

<p><img src="assets/fig/unnamed-chunk-8-1.png" alt="plot of chunk unnamed-chunk-8"></p>

<ol><li>Para que servem os operadores:</li>
</ol><p>a) <code>%&lt;&gt;%</code>?
b) <code>%T&gt;%</code>?
c) <code>%$%</code>?</p>

<h3>Gráficos com o pacote <em>graphics</em></h3>

<p><strong>1</strong>. Considere o gráfico abaixo:</p>

<pre><code class="r">x &lt;- seq(-3, 3, 0.01)
y &lt;- 1/x

plot(x, y, type = "l")
</code></pre>

<p><img src="assets/fig/unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9"></p>

<p>a) Altere os limites do eixo x para que o gráfico seja visualizado apenas do -2 ao 2.</p>

<p>b) Acrescente um título ao grafico.</p>

<p>C) Acrescente uma reta vertical pontilhada no ponto x = 0.</p>

<p>d) Acrescente uma legenda ao gráfico no "terceiro quadrante".</p>

<p><strong>2</strong>. Como construir dois gráficos na mesma janela?</p>

<h2>Aula 04</h2>

<p>A base de dados <code>bd_dyad_sample</code> (leia executando <code>data(bd_dyad_sample, package='abjutils')</code>) contém em cada linha uma coalizão ocorrida ou não na Organização Mundial do Comércio, entre dois países. Os países estão identificados pelas colunas <code>ccode1</code> e <code>ccode2</code>. A coalizão é identificada pela variável <code>Freq</code> ou a variável <code>coalition</code>, que são iguais e valem <code>1</code> se houve coalizão e <code>0</code> caso contrário. A coluna <code>ccoalition</code> é um identificador de qual foi a coalizão que aconteceu (Mercosul, acordos da Europa, etc).</p>

<p>As outras medidas da base são basicamente medidas de distância entre caracteísticas dos países em relação a um dado ano. Por exemplo, <code>pwt_lrgdp</code> mede a diferença (em log) dos PIBs dos países, e <code>dist_latlon</code> mede a distância dos países.</p>

<h3>Tidy data</h3>

<p><strong>1</strong>. Qual é a unidade observacional (o que identifica uma observação)?</p>

<h3>select, filter, mutate, arrange, summarise, gather, spread</h3>

<p><strong>2</strong>. Qual é o código do país que entrou mais vezes em alguma coalizão?</p>

<p><strong>3</strong>. Qual é o código do país que entrou em coalizão com mais países?</p>

<p><strong>4</strong>. Quantas coalizões tivemos em cada ano?</p>

<p><strong>5</strong>. Construa uma matriz de adjacências usando <code>dplyr</code>. Queremos um <code>data.frame</code> com número de linhas igual ao número de colunas, e o conteúdo da tabela é <code>1</code> se o país da linha entra em coalizão com o país da coluna em dado ano e dada coalizão, e <code>0</code> caso contrário. </p>

<h2>Aula 05</h2>

<h3>ggplot2</h3>

<p><strong>1</strong> Como adicionar um título a um gráfico?</p>

<p><strong>2</strong> Como alterar a posição da legenda de um gráfico? Como removê-la?</p>

<p><strong>3</strong> Como personalizar os eixos de um gráfico?</p>

<p><strong>Dica</strong>: consulte esse <a href="http://www.cookbook-r.com/Graphs/Legends_(ggplot2">site</a>/).</p>

<p>Para fazer os exercícios abaixo, utilize o banco de dados <code>movies</code> do pacote <code>ggplot2</code>.</p>

<p><strong>4</strong> Faça um gráfico de barras mostrando o número de filmes por ano de 1990 para cá.</p>

<p><strong>5</strong> Faça boxplots da classificação (rating) para cada classificação da MPAA. Adicione ao gráfico uma linha vermelha pontilhada horizontal que cruze o eixo y no valor 5.</p>

<p><strong>6</strong> Faça histogramas da classificação (rating) para cada gênero de filme.</p>

<p><strong>Dica</strong>: para plotar uma reta horizontal, utilize a função <code>geom_hline()</code>.</p>

<h2>Aula 06</h2>

<h2>Aula 07</h2>

<h2>Aula 08</h2>

<h2>Aula 09</h2>

<h2>Aula 10</h2>

<h2>Aula 11</h2>

<h2>Aula 12</h2>

              <div id="disqus_thread"></div>
            </li>
          </ol><div class="pagination">
            <ul><li><a href="http://curso-r.github.io">« Back Home</a></li>
            </ul></div> 
        </div>
			</div>
		</div>
  </div>
</body><script src="libraries/frameworks/purus/js/bootstrap.min.js"></script><script>
      var disqus_developer = 1;
      var disqus_shortname = 'curso-r'; 
      // required: replace example with your forum shortname
      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); 
          dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || 
           document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> --><script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script><!-- Google Prettify --><script src="http://cdnjs.cloudflare.com/ajax/libs/prettify/188.0.0/prettify.js"></script><script src="libraries/highlighters/prettify/js/lang-r.js"></script><script>
    var pres = document.getElementsByTagName("pre");
    for (var i=0; i < pres.length; ++i) {
      pres[i].className = "prettyprint linenums";
    }
    prettyPrint();
  </script><!-- End Google Prettify --></html>
